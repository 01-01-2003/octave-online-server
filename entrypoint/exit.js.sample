// Example exit.js that performs a reboot upon process exit.

const child_process = require("child_process");

module.exports = function exit() {
	console.log("Spawning reboot and exiting");
	// This needs to be execFileSync (as opposed to execFile) to stop the parent process from exiting and restarting before the child process has had a chance to finish.
	child_process.execFileSync("sudo", ["reboot"], {
		stdio: "inherit"
	});
}
